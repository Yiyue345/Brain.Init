# 另一个函数式编程笔记

在阅读本文前，建议拥有一下知识：

- 基本的面向对象编程范式知识

- 听说过匿名函数

本文会从函数式独特的角度进行切入，介绍函数式的基本内容（通常是有利于 OOP 和其他编程范式的部分），并不提及「算子」等更为抽象的理论术语。

函数式编程简称「FP」（Functional Programming）。

## 极端函数式生活

函数式有几个核心概念，也是其他编程范式主要吸收的地方。

### 不变性

在传统的编程中，通常需要关心状态。

```javascript
user.age = 25 // 修改了 user 对象的状态
if (user.age > 20) { // 访问 user 对象的状态
    console.log(user);
} 
```

可变的状态是造成程序难以理解和复杂多变、难以调试、难以并发的主要原因。

而在 FP 中，核心是「不变性」。即一切都是不变的，不存在变量，只有常量。

有人会问，那这样怎么进行「变化」呢？FP 的答案是「当你需要一个新的数据时，不是原地修改数据，而是创建一个新的数据」。

这么做会带来好处，因为没有数据修改，在多线程编程中多个线程就可以安全读取同一个数据。

### 纯函数 Pure Function

FP 中一个十分重要的概念是 **纯函数**，一个函数被称为纯函数需要满足以下两点：

- 输入决定输出：相同的输入总是返回相同的输出。

- 无副作用：不会修改作用域外的任何东西。

纯函数的概念接近于数学中的函数。

纯函数带来的好处在于几点：

- 简单测试：测试纯函数只需要关心输入输出，不用关心外部状态。

- 可缓存：相同的输入总是产生相同的输出，所以可以在计算后缓存结果，下次还有同样的输入可以直接返回缓存。

- 可预测：纯函数是独立的代码块，不依赖任何其他代码，一切逻辑都在他自身。

### 函数是一等公民

FP 中的函数可以作为参数，类似于数学概念「泛函」。

在 FP 中，以函数作为接收参数或返回值的函数称之为 **高阶函数**。例如经典的 `sort()` 通常能够传入一个比较大小的函数作为参数，这就是经典的高阶函数。

## 更松的函数式

### 柯里化

todo

### 闭包

todo

# 
