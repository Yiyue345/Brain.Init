> [!IMPORTANT]
> 这是学习匿名函数的前置知识，前者在 Android 原生开发与 Flutter 开发中都相当常用
> 
> 你需要的前置知识有：
> - 较为熟练掌握 C 语言中的**函数**
> - 了解何为面向对象编程，很多情况下它们是相互结合的

> **函数是第一等公民**

# 函数式编程

## 介绍一下

事实证明，如果你不事先了解什么是函数式编程，那你在面对**匿名函数（即 lambda 表达式）** 时极大概率会一头雾水，尤其是在 **Android 原生开发与 Flutter 开发**中，你经常要给对象传入某个函数（许多时候会是匿名函数）。如果你尝试直接去了解何为匿名函数，那将要付出极大的理解成本（可能还没理解）

由于 Kotlin 的语法糖太多了很难读懂，以下所有的代码示例都会使用 Kotlin 和 Dart 两种语言

简单来说，函数式编程就是让函数可以和变量一样作为参数传到别的地方去，亦可作为返回值被返回。

## 然后就是代码时间

### 作为参数

在 Kotlin 与 Dart 中，列表都有一个`.map`方法（map 意为**映射**），它接收一个函数，并返回一个包含原列表中所有元素（自变量）经过被传入的函数映射后的结果（因变量）

比如可以定义一个翻倍函数

```kotlin
fun doubleNum(n: Int): Int {
    return n * 2
}
```

```dart
int doubleNum(int n) {
    return n * 2;
}
```

之后找个列表再动用`.map`方法

```kotlin
val numbers = listOf(1, 2, 3)
val doubled = numbers.map(::doubleNum) // ::代表函数传值而非引用
// 新列表为[2, 4, 6]
```

```dart
var numbers = [1, 2, 3];
var doubled = numbers.map(doubleNum).toList();
// 新列表为[2, 4, 6]
```

### 作为返回值

